
<ui:composition template="/rhq/resource/layout/main.xhtml"
      xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:c="http://java.sun.com/jstl/core"
      xmlns:onc="http://jboss.org/on/component"
      xmlns:onf="http://jboss.org/on/function"
      xmlns:a4j="https://ajax4jsf.dev.java.net/ajax"
      xmlns:rich="http://richfaces.ajax4jsf.org/rich">

<ui:param name="pageTitle" value="#{ResourceUIBean.resourceType.name} '#{ResourceUIBean.name}' - Managing Agent"/>
<ui:param name="selectedTabName" value="Inventory.Agent"/>

<ui:define name="content">

<ui:remove>=================== AGENT MANAGING THIS RESOURCE ===================</ui:remove>
<rich:panel styleClass="BlockContent">
   <f:facet name="header" styleClass="BlockTitle">
      Agent Managing this Resource
   </f:facet>

   <h:form id="managingAgentForm">
      <input type="hidden" name="id" value="#{param.id}"/>
      <h:panelGrid columns="1" styleClass="general-props-table" columnClasses="general-prop-cell">
         <h:panelGroup>
            <b>Name: </b> <h:outputText value="#{PingAgentUIBean.agent.name}"/>
         </h:panelGroup>
         <h:panelGroup>
            <b>Address: </b> <h:outputText value="#{PingAgentUIBean.agent.address}"/>
         </h:panelGroup>
         <h:panelGroup>
            <b>Port: </b> <h:outputText value="#{PingAgentUIBean.agent.port}"/>
         </h:panelGroup>
         <h:panelGroup>
            <b>Agent Communications Status: </b>
            <h:graphicImage value="/images/icons/availability_green_16.png" alt="Up" title="Up"
                            rendered="#{PingAgentUIBean.pingResults}"/>
            <h:graphicImage value="/images/icons/availability_red_16.png" alt="Down" title="Down"
                            rendered="#{!PingAgentUIBean.pingResults}"/>
         </h:panelGroup>
         <h:panelGroup>
            <b>Last Received Availability Report: </b>
            <h:outputText value="#{PingAgentUIBean.agent.lastAvailabilityReport}">
               <f:convertDateTime pattern="M/d/yy, h:mm:ss aa, zzz" timeZone="#{ServerInfoUIBean.timeZone}"/>
            </h:outputText>
         </h:panelGroup>
         <h:panelGroup>
            <b>Full Endpoint: </b> <h:outputText style="WORD-BREAK:BREAK-ALL" value="#{PingAgentUIBean.remoteEndpointWrapped}"/>
         </h:panelGroup>
      </h:panelGrid>
   </h:form>
</rich:panel>

</ui:define>

</ui:composition>

